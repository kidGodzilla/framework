<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <style>
        body {
            padding-top: 50px;
        }
    </style>
</head>
<body>

<div class="container">
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">"Framework" Example Application</a>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="#dataBindingExample">Data Binding</a></li>
                    <li><a href="#gravatar">Gravatar</a></li>
                    <li><a href="#github">Remote Data</a></li>
                    <li><a href="#template">Advanced Template</a></li>
                    <li><a href="#foo/bar/baz">Nested Route</a></li>
                    <li><a href="#components">Components</a></li>
                    <!--<li><a href="#foo">Foo</a></li>-->
                    <!--<li><a href="#bar">Bar</a></li>-->
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://github.com/kidGodzilla/framework" style="font-size:200%"><i class="fa fa-github"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="outlet"></div>

    <hr style="margin-top: 250px">

    <div data-source-url="app/templates/readme.html">
        <div class="text-center">Loading...</div>
    </div>
</div>


<template data-pathname="index">
    <div class="text-center">
        <br><br><br>
        <h1>"Framework" Example Application Demo</h1>
        <a href="#foo">Foo Route</a> |
        <a href="#bar">Bar Route</a> |
        <a class="" href="#dataBindingExample">Data Binding Example</a> |
        <a class="" href="#gravatar">Gravatar Example</a>    |
        <a class="" href="#github">Remote Data Example</a> |
        <a class="" href="#template">Advanced Template Example</a>   |
        <a class="" href="#foo/bar/baz">Nested Route Example</a> |
        <a href="#components">Component Example</a>
    </div>
</template>

<template data-pathname="foo">
    <h2 class="text-center">Foo!~</h2>
</template>

<template data-pathname="bar">
    <h2 class="text-center">Bar!</h2>
</template>

<template data-pathname="dataBindingExample">
    <div class="text-center">
        <h2>Data Binding Example</h2>
        <input type="text" id="input2" onkeyup="App.updateBoundData()" placeholder="Start typing here..">
        <h3 id="foo"></h3>
    </div>
</template>

<template data-pathname="foo/bar/baz">
    <h2 class="text-center">/foo/bar/baz!!1</h2>
    <p>
        Nested routes are simple in "Framework". Framework matches the closest route path .
    </p>
</template>

<template data-pathname="template">
    <div class="col-sm-6 col-sm-offset-3">
        <h2><%= App.data.templatePageTitle %></h2>

        <ul>
            <% for (var index in App.data.items) { %>
            <li><%= App.data.items[index] %></li>
            <% } %>
        </ul>
    </div>
</template>

<template data-pathname="gravatar">
    <div class="text-center">
        <h2>Gravatar Example</h2>
        <hr>

        <input type="text" id="input3" onkeyup="App.updateGravatar()" placeholder="Enter your email here..">
        <br><br>
        <img id="gravatar" alt="">
        <br><hr>
    </div>
</template>

<template data-pathname="github">
    <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
            <h2>Remote Data Example</h2>
            <hr>

            <h4>Latest Activity for kidgodzilla/framework</h4>

            <% if (App.data.githubData) { %>
            <div>
                <% for (var index in App.data.githubData) { %>
                <div width="100%">
                    <div style="width:100px;display:inline-block"><%= App.data.githubData[index].actor.login %></div>
                    <div style="width:200px;display:inline-block"><%= App.data.githubData[index].created_at %></div>
                    <div style="display:inline-block"><%= App.data.githubData[index].type %></div>
                </div>
                <% } %>
            </div>
            <% } %>

            <br><hr>
        </div>
    </div>

</template>

<template data-pathname="components">
    <h3>Slidebox</h3>
    <p class="description">
        A container that allows animated transitions between content panes. Slide Box supports horizontal and vertical transitions.
    </p>

    <nav class="actions">
        <button onclick="$('#slidebox_demo')[0].xtag.slidePrevious();"><- Previous Slide</button>
        <button onclick="$('#slidebox_demo')[0].xtag.slideNext();">Next Slide -></button>
        <button onclick="$('#slidebox_demo')[0].xtag.slideTo(2);">Slide To 3</button>
        <button onclick="$('#slidebox_demo')[0]['data-orientation'] = $('#slidebox_demo')[0].getAttribute('data-orientation') == 'x' ? 'y' : 'x'">Toggle orientation</button>
    </nav>

    <br>

    <div style="width: 320px;overflow: hidden;">
        <x-slidebox id="slidebox_demo" data-orientation="x" style="width: 320px;overflow: hidden;">
            <x-slides>
                <x-slide><img src="assets/images/components/slidebox/birnimal-calendar.png" /></x-slide>
                <x-slide><img src="assets/images/components/slidebox/birnimal-graph.png" /></x-slide>
                <x-slide><img src="assets/images/components/slidebox/birnimal-detail.png" /></x-slide>
                <x-slide><img src="assets/images/components/slidebox/birnimal-settings.png" /></x-slide>
            </x-slides>
        </x-slidebox>
    </div>

    <h3>Autosuggest</h3>

    <p><em>This example uses data from the Rotten Tomatoes API, so try typing a movie name</em></p>

    <p class="description">
        An autosuggest input provides automated hints and completion of textual value based on keyboard input.
    </p>

    <x-autosuggest id="autosuggest_demo" data-padding="2" data-url="http://api.rottentomatoes.com/api/public/v1.0/movies.json?apikey=v695ukwehrcb5q8kwkrgjmbd&page_limit=10&page=1"></x-autosuggest>

    <script>
        document.getElementById('autosuggest_demo').dataready = function(request){
            if (!request.responseText) return this;
            request.responseText.movies.forEach(function (movie) {
                this.xtag.addSuggestion(movie.title, movie);
            }, this);
        };

        document.addEventListener('beforerequest', function (event) {
            var element = event.target;
            if (element.tagName == 'X-AUTOSUGGEST') {
                element.xtag.request.url = element.xtag.request.url + '&q=' + element.value;
            }
        });
    </script>
</template>

<script src="framework/core.js"></script>
<script src="framework/loader.js"></script>
<script>
    // Dependencies
    Loader.loadScript('dependencies/js/object.observe.min.js'); // Object.observe polyfill for Binding support
    Loader.loadScript('dependencies/js/md5.js'); // For the gravatar example
    Loader.loadScript('dependencies/js/x-tag.js'); // Web Components polyfill

    // The "Framework"
    Loader.loadScript('framework/utils.js');
    Loader.loadScript('framework/router.js');
    Loader.loadScript('framework/template.js');
    Loader.loadScript('framework/binding.js');
    Loader.loadScript('framework/components.js');

    // This contains our application
    Loader.loadScript('app/js/app.js');

    // Load our components
    Loader.loadStylesheet('components/autosuggest/autosuggest.css');
    Loader.loadScript('components/autosuggest/autosuggest.js');
    Loader.loadStylesheet('components/slidebox/slidebox.css');
    Loader.loadScript('components/slidebox/slidebox.js');
</script>
</body>
</html>